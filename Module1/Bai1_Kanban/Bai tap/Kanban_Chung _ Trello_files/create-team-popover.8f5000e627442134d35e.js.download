(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"./app/gamma/src/components/popovers/create-team/create-team.less":function(e,t,a){var r=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),n=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/gamma/src/components/popovers/create-team/create-team.less");"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var o={insert:"head",singleton:!1};r(n,o);e.exports=n.locals||{}},"./app/gamma/src/components/popovers/create-team/index.tsx":function(e,t,a){"use strict";a.r(t),a.d(t,"CreateTeamPopover",(function(){return M}));var r=a("./app/gamma/src/modules/state/models/teams.ts"),n=a("./node_modules/react/index.js"),o=a.n(n),s=a("./node_modules/react-redux/es/index.js"),c=a("./app/gamma/src/selectors/enterprises.ts"),i=a("./node_modules/classnames/index.js"),p=a.n(i),u=a("./packages/nachos/button.ts"),l=a("./app/gamma/src/util/prevent-default.ts"),m=a("./app/gamma/src/util/sort.ts"),d=a("./app/gamma/src/components/popovers/create-team/create-team.less"),f=a.n(d),y=a("./packages/test-ids/index.ts"),b=a("./packages/analytics/index.ts"),g=a("./app/common/lib/util/i18n/index.ts"),h=a("./packages/browser/index.ts"),v=a("./app/src/components/TeamTypeSelect/index.ts");function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var N=Object(g.forTemplate)("org_create"),S=Object(g.forNamespace)("products"),P="".concat(Date.now(),"-"),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,a,n,s,c=(t=i,function(){var e,a=O(t);if(w()){var r=O(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return E(this,e)});function i(){var e;T(this,i);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return C(x(e=c.call.apply(c,[this].concat(a))),"state",{displayName:"",teamType:void 0,desc:void 0,enterprise:e.props.teamType===r.a.Enterprise&&e.props.enterprises&&e.props.enterprises.length?e.props.enterprises[0].id:void 0,isSubmitting:!1}),C(x(e),"onChangeTeamName",(function(t){e.setState({displayName:t.target.value})})),C(x(e),"onChangeTeamType",(function(t){e.setState({teamType:t})})),C(x(e),"onChangeEnterprise",(function(t){e.setState({enterprise:t.currentTarget.value})})),C(x(e),"onChangeTeamDescription",(function(t){e.setState({desc:t.currentTarget.value})})),C(x(e),"onCreateTeam",(function(t){e.setState({isSubmitting:!0});var a=e.props.teamType,r=e.state,n=r.displayName,o=r.desc,s=r.enterprise,c=e.state.teamType,i=!!s;e.props.submitCreateTeam({type:a,displayName:n.trim(),teamType:c,desc:o,enterprise:s,redirectAfterCreate:i})})),C(x(e),"getEnterprises",(function(){var t=e.props.enterprises,a=e.state.enterprise;if(t&&t.length)return 1===t.length?o.a.createElement("p",{id:"".concat(P,"create-team-enterprise-name")},t[0].displayName):o.a.createElement("select",{className:f.a.select,id:"".concat(P,"create-team-enterprise-name"),onChange:e.onChangeEnterprise,disabled:e.state.isSubmitting,value:a},t.sort(Object(m.a)("displayName")).map((function(e,t){var a=e.id,r=e.displayName;return o.a.createElement("option",{"aria-selected":0===t,value:a,key:a},r)})))})),e}return a=i,(n=[{key:"componentDidMount",value:function(){Object(b.trackUe)({category:b.Noun.HEADER,verb:b.Verb.OPENS,directObj:b.Noun.CREATE_TEAM_MENU,context:{teamType:this.props.teamType}})}},{key:"onBusinessLinkClick",value:function(e){}},{key:"render",value:function(){var e=this.state,t=e.displayName,a=e.isSubmitting,n=this.props.teamType,s=this.state.teamType,c=!t.trim()||!s||a;return o.a.createElement("form",{onSubmit:Object(l.a)(this.onCreateTeam)},o.a.createElement("label",{htmlFor:"".concat(P,"create-team-org-display-name")},N("name")),o.a.createElement("input",{autoFocus:!0,className:f.a.textInput,dir:"auto",id:"".concat(P,"create-team-org-display-name"),maxLength:100,onChange:this.onChangeTeamName,value:this.state.displayName,tabIndex:0,type:"text","data-test-id":y.TeamTestIds.CreateTeamNameInput,disabled:a}),o.a.createElement(v.TeamTypeSelect,{onChange:this.onChangeTeamType,isDisabled:a}),n===r.a.Enterprise?o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:"".concat(P,"create-team-enterprise-name")},S("enterprise")),this.getEnterprises()):o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:"".concat(P,"create-team-org-description"),dangerouslySetInnerHTML:{__html:N("description-optional")}}),o.a.createElement("textarea",{className:f.a.textAreaInput,dir:"auto",id:"".concat(P,"create-team-org-description"),name:"desc",onChange:this.onChangeTeamDescription,tabIndex:0,disabled:a})),o.a.createElement(u.Button,{appearance:"primary",className:f.a.submitButton,type:"submit",size:"wide",isDisabled:c,testId:y.TeamTestIds.CreateTeamSubmitButton},N("create")),o.a.createElement("hr",{className:f.a.separator}),o.a.createElement("p",{className:p()(f.a.quiet,f.a.bottomParagraph)},N(n===r.a.Enterprise?"a-team-is-a-group-of-boards-and-people-owned":"a-team-is-a-group-of-boards-and-people")),!Object(h.dontUpsell)()&&n!==r.a.Enterprise&&o.a.createElement("p",{className:p()(f.a.quiet,f.a.bottomParagraph)},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(N("business-class-gives-your-organization-more")," ")}}),o.a.createElement("a",{className:f.a.quiet,onClick:this.onBusinessLinkClick,href:"/business-class",target:"_blank",rel:"noopener noreferrer"},N("learn-more"))))}}])&&_(a.prototype,n),s&&_(a,s),i}(o.a.Component);function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(c,e);var t,a,r,n,s=(t=c,function(){var e,a=z(t);if(L()){var r=z(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return D(this,e)});function c(){return A(this,c),s.apply(this,arguments)}return a=c,(r=[{key:"render",value:function(){return o.a.createElement(k,this.props)}}])&&R(a.prototype,r),n&&R(a,n),c}(o.a.Component);var M=Object(s.c)((function(e){return{enterprises:Object(c.d)(e)}}),(function(e,t){return{submitCreateTeam:function(t){var a=t.type,n=t.displayName,o=t.teamType,s=t.desc,c=t.enterprise,i=t.redirectAfterCreate;e(Object(r.d)({type:a,displayName:n,teamType:o,desc:s,enterprise:c,redirectAfterCreate:i}))}}}))(H)},"./app/gamma/src/util/sort.ts":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var r=a("./app/gamma/src/types/models.ts"),n=function(e){return function(t,a){if(!t[e]||!a[e])return 0;var r=t[e].toLocaleLowerCase(),n=a[e].toLocaleLowerCase();return r<n?-1:r>n?1:0}},o=new Map([[r.d.Green,0],[r.d.Yellow,1],[r.d.Orange,2],[r.d.Red,3],[r.d.Purple,4],[r.d.Blue,5],[r.d.Sky,6],[r.d.Lime,7],[r.d.Pink,8],[r.d.Black,9],[null,999]]),s=function(e,t){var a=e.color,r=t.color,n=o.get(a)-o.get(r),s=(a||"").toLowerCase().localeCompare(r||"");return o.has(a)&&o.has(r)?n:s}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/gamma/src/components/popovers/create-team/create-team.less":function(e,t,a){(t=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".qzzVWej4dzsgOW,input[type=text]._1kWuZbUr07mEIP{margin:4px 0 12px;width:100%}.qzzVWej4dzsgOW{height:72px}._3AnHGw8ZDnovyP{color:#6b778c}.AaHvM-AjIR-MmX{margin:8px 0}._1HAQTcKShQ-XSK:last-child{margin-bottom:0}._1n_x7A18Advj2P{width:100%;margin-bottom:14px}.AFrHFg47RLvrls{margin:8px 4px 0 0}",""]),t.locals={textInput:"_1kWuZbUr07mEIP",textAreaInput:"qzzVWej4dzsgOW",quiet:"_3AnHGw8ZDnovyP",separator:"AaHvM-AjIR-MmX",bottomParagraph:"_1HAQTcKShQ-XSK",select:"_1n_x7A18Advj2P",submitButton:"AFrHFg47RLvrls"}}}]);
//# sourceMappingURL=create-team-popover.8f5000e627442134d35e.js.map